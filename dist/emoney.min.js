/*! emoney - 1.0.0 - Bernard McManus - efba454 - 2015-12-21 */
!function(a,b,c,d,e,f,g){"use strict";!function(a){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=a();else if("function"==typeof define&&define.amd)define([],a);else{var b;b="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,b.E$=a()}}(function(){return function h(a,b,c){function d(g,i){if(!b[g]){if(!a[g]){var j="function"==typeof require&&require;if(!i&&j)return j(g,!0);if(e)return e(g,!0);var k=new f("Cannot find module '"+g+"'");throw k.code="MODULE_NOT_FOUND",k}var l=b[g]={exports:{}};a[g][0].call(l.exports,function(b){var c=a[g][1][b];return d(c?c:b)},l,l.exports,h,a,b,c)}return b[g].exports}for(var e="function"==typeof require&&require,g=0;g<c.length;g++)d(c[g]);return d}({1:[function(a,b,d){function e(a){return a&&a.__esModule?a:{"default":a}}function f(a,b,c){var d=o.$_toArray(b),e=d.shift()||[n.WILDCARD],f=k(j(d)?d.pop():a),g=d[0];c(e,g,f)}function h(a,b,c){var d=o.$_toArray(b),e=d.shift()||a.$__events,f=j(d)?d.pop():g,h=d[0];c(e,h,f)}function i(a,b,c){var d=o.$_toArray(b),e=d.shift()||a.$__events,f=k(j(d)?d.pop():g),h=!!d[0];c(e,h,f)}function j(a){var b=a.slice(-1)[0];return o.$_is(b,"function")||m["default"].is(b)}function k(a){return a&&a.handleE$||a}c.defineProperty(d,"__esModule",{value:!0}),d.whenParser=f,d.emitParser=h,d.dispelParser=i;var l=a("main"),m=e(l),n=a("listener-manager"),o=a("helpers")},{helpers:4,"listener-manager":6,main:7}],2:[function(a,b,d){function e(a,b){return b=b!=g?b:[],{fn:a,uts:f.$_uts(),invoke:function(c,d){c.cancelBubble||(d=d!=g?d:[],a.apply(g,[].concat(c,b,d)))}}}c.defineProperty(d,"__esModule",{value:!0}),d["default"]=e;var f=a("helpers")},{helpers:4}],3:[function(a,b,d){function e(){}var f=function(){function a(a,b){for(var d=0;d<b.length;d++){var e=b[d];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),c.defineProperty(a,e.key,e)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();c.defineProperty(d,"__esModule",{value:!0});var g=a("helpers"),h=function(){function a(b,c){e(this,a);var d=this;d.target=b,d.type=c,d.cancelBubble=!1,d.defaultPrevented=!1,d.timeStamp=g.$_uts()}return f(a,[{key:"preventDefault",value:function(){this.defaultPrevented=!0}},{key:"stopPropagation",value:function(){this.cancelBubble=!0}}]),a}();d["default"]=h},{helpers:4}],4:[function(a,f,g){function h(a){return a&&"undefined"!=typeof Symbol&&a.constructor===Symbol?"symbol":typeof a}function i(a){return a}function j(a,b){m(b,function(a,b){a.configurable=!0}),c.defineProperties(a,b)}function k(a,c){return"string"==typeof c?("undefined"==typeof a?"undefined":h(a))==c:c===b?b.isArray(a):c?a.constructor===(k(c,"function")?c:c.constructor):a===c}function l(a){return b.prototype.slice.call(a,0)}function m(a,c){if(k(a,b))for(var d=0;d<a.length;d++)c(a[d],d);else if(k(a,"object"))for(var e in a)a.hasOwnProperty(e)&&c(a[e],e);else a&&c(a,0)}c.defineProperty(g,"__esModule",{value:!0}),g.$_void=i,g.$_defineProperties=j,g.$_is=k,g.$_toArray=l,g.$_each=m;g.$_uts=function(){var a,b=.001;return function(){var c=d.now();return a=(c===e.floor(a)?a:c)+b}}()},{}],5:[function(a,b,c){function d(a){return a&&a.__esModule?a:{"default":a}}var e=a("main"),f=d(e);b.exports=f["default"]},{main:7}],6:[function(a,b,d){function e(a){return a&&a.__esModule?a:{"default":a}}function f(){}function g(a,b){var c=a.map(function(a){return a.fn});return c.indexOf(b)}var h=function(){function a(a,b){for(var d=0;d<b.length;d++){var e=b[d];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),c.defineProperty(a,e.key,e)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();c.defineProperty(d,"__esModule",{value:!0}),d.WILDCARD=void 0;var i=a("event-handler"),j=e(i),k=a("helpers"),l=d.WILDCARD="*",m=function(){function a(){f(this,a);var b=this;k.$_defineProperties(b,{keys:{get:function(){return c.keys(b)}}})}return h(a,[{key:"add",value:function(a,b,c){var d=this,e=new j["default"](b,c),f=d._get(a);f.push(e),d[a]=f}},{key:"_get",value:function(a,b){var c=this,d=c;return a&&(d=d[a]||[],b&&a!=l&&(d=c._get(l).concat(d).sort(function(a,b){return a.uts-b.uts}))),d}},{key:"invoke",value:function(a,b){var c=this._get(a.type,!0);k.$_each(c,function(c){c.invoke(a,b)})}},{key:"remove",value:function(a,b,c){for(var d,e=this,f=e._get(a),h=0;h<f.length;)d=b?g(f,b):h,d>=0&&(c||a!=l)&&(f.splice(d,1),h--),h++;f.length?e[a]=f:delete e[a]}}]),a}();d["default"]=m},{"event-handler":2,helpers:4}],7:[function(d,e,f){function h(a){return a&&a.__esModule?a:{"default":a}}function i(){}var j=function(){function a(a,b){for(var d=0;d<b.length;d++){var e=b[d];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),c.defineProperty(a,e.key,e)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();c.defineProperty(f,"__esModule",{value:!0});var k=d("event"),l=h(k),m=d("stack"),n=h(m),o=d("listener-manager"),p=h(o),q=d("helpers"),r=d("argument-parsers"),s=function(){function d(b){i(this,d);var c=this;return c==a||c==g?new d(b):(q.$_each(b,function(a,b){c[b]=a}),void d.construct(c))}return j(d,null,[{key:"is",value:function(a){return!!(a&&q.$_is(a,"object")&&"handleE$"in a)}},{key:"create",value:function(a){var b=c.create(d.prototype);return q.$_each(a,function(a,c){b[c]=a}),b}},{key:"construct",value:function(a){q.$_defineProperties(a,{$__stack:{value:new n["default"]},$__listeners:{value:new p["default"]},$__events:{get:function(){return a.$__listeners.keys}},handleE$:{value:(a.handleE$||q.$_void).bind(a)},_handleWild:{value:function(){var b=q.$_toArray(arguments),c=b.shift();a.$__listeners.invoke(c,b)}}})}}]),j(d,[{key:"$watch",value:function(a){var c=this;return a=q.$_is(a,b)?a:[a],q.$_each(a,function(a,b){a.$when(o.WILDCARD,c).$when(o.WILDCARD,c._handleWild)}),c}},{key:"$unwatch",value:function(a){var c=this;return a=q.$_is(a,b)?a:[a],q.$_each(a,function(a){a.$dispel(o.WILDCARD,!0,c).$dispel(o.WILDCARD,!0,c._handleWild)}),c}},{key:"$once",value:function(){var a=this;return r.whenParser(a,arguments,function(b,c,d){a.$when(b,c,function e(){d.apply(g,arguments),a.$dispel(b,!0,e)})}),a}},{key:"$when",value:function(){var a=this,b=a.$__stack;return r.whenParser(a,arguments,function(c,d,e){b.enqueue(function(){q.$_each(c,function(b){a.$__listeners.add(b,e,d)})}),b.flush()}),a}},{key:"$emit",value:function(){var a=this,b=a.$__stack;return r.emitParser(a,arguments,function(c,d,e){b.enqueue(function(){q.$_each(c,function(b){if(b!=o.WILDCARD){var c=new l["default"](a,b);a.$__listeners.invoke(c,d),q.$_is(e,"function")&&!c.defaultPrevented&&e.apply(g,[].concat(c,d))}})}),b.flush()}),a}},{key:"$dispel",value:function(){var a=this,b=a.$__stack;return r.dispelParser(a,arguments,function(c,d,e){b.enqueue(function(){q.$_each(c,function(b){a.$__listeners.remove(b,e,d)})}),b.flush()}),a}}]),d}();f["default"]=s},{"argument-parsers":1,event:3,helpers:4,"listener-manager":6,stack:8}],8:[function(a,b,d){function e(){}var f=function(){function a(a,b){for(var d=0;d<b.length;d++){var e=b[d];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),c.defineProperty(a,e.key,e)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();c.defineProperty(d,"__esModule",{value:!0});var g=function(){function a(){e(this,a);var b=this;b.index=0,b.length=0,b.inprog=!1}return f(a,[{key:"enqueue",value:function(a){var b=this;b[b.length]=a,b.length++}},{key:"empty",value:function(){this.length=this.index=0}},{key:"next",value:function(){var a=this,b=a[a.index];return delete a[a.index],a.index++,a.index>=a.length&&a.empty(),b}},{key:"flush",value:function(){var a,b,c=this;if(!c.inprog){for(c.inprog=!0;a=c.next();)try{a()}catch(d){b=d,c.empty()}if(c.inprog=!1,b)throw b}}}]),a}();d["default"]=g},{}]},{},[5])(5)})}(this,Array,Object,Date,Math,Error);