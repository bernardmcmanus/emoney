{
  "version": 3,
  "sources": [
    "node_modules/browser-pack/_prelude.js",
    "src/argument-parsers.js",
    "src/event-listener.js",
    "src/event.js",
    "src/helpers.js",
    "src/index.js",
    "src/listener-manager.js",
    "src/main.js",
    "src/stack.js"
  ],
  "names": [],
  "mappings": "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",
  "file": "generated.js",
  "sourceRoot": "",
  "sourcesContent": [
    "(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})",
    "import E$ from 'main';\nimport { WILDCARD } from 'listener-manager';\nimport * as _ from 'helpers';\n\nexport function whenParser(instance, _arguments, cb) {\n\tvar args = _.toArray(_arguments),\n\t\teventTypes = args.shift() || WILDCARD,\n\t\tlistenerFn = getListenerFunc(lastIsFunctionOrEmoney(args) ? args.pop() : instance),\n\t\tlistenerArgs = args[0];\n\tcb(eventTypes, listenerArgs, listenerFn);\n}\n\nexport function emitParser(instance, _arguments, cb) {\n\tvar args = _.toArray(_arguments),\n\t\teventTypes = args.shift() || [],\n\t\temitCb = (lastIsFunctionOrEmoney(args) ? args.pop() : UNDEFINED),\n\t\tlistenerArgs = args[0];\n\tcb(eventTypes, listenerArgs, emitCb);\n}\n\nexport function dispelParser(instance, _arguments, cb) {\n\tvar args = _.toArray(_arguments),\n\t\teventTypes = args.shift() || WILDCARD,\n\t\tlistenerFn = getListenerFunc(lastIsFunctionOrEmoney(args) ? args.pop() : UNDEFINED),\n\t\twild = !!args[0];\n\tcb(eventTypes, wild, listenerFn);\n}\n\nfunction lastIsFunctionOrEmoney(args) {\n\tvar last = args.slice(-1)[0];\n\treturn _.isFunction(last) || E$.is(last);\n}\n\nfunction getListenerFunc(subject) {\n\treturn subject && subject.handleE$ || subject;\n}\n",
    "import { WILDCARD } from 'listener-manager';\n\nexport default function EventListener(types, fn, bindArgs) {\n\ttypes = [].concat(types);\n\tbindArgs = (bindArgs != UNDEFINED ? bindArgs : []);\n\tif (types.indexOf(WILDCARD) >= 0 && types.length > 1) {\n\t\tthrow new Error('Wildcard listeners cannot include other types.');\n\t}\n\tthis.fn = fn;\n\tthis.types = types;\n\tthis.invoke = function(evt, invokeArgs) {\n\t\tif (!evt.cancelBubble && (types[0] == WILDCARD || types.indexOf(evt.type) >= 0)) {\n\t\t\tinvokeArgs = (invokeArgs != UNDEFINED ? invokeArgs : []);\n\t\t\tfn.apply(UNDEFINED, [].concat(evt, bindArgs, invokeArgs));\n\t\t}\n\t};\n}\n",
    "import { WILDCARD } from 'listener-manager';\n\nexport default function Event(target, type) {\n\tif (type == WILDCARD) {\n\t\tthrow new Error('Invalid event type: ' + WILDCARD + '.');\n\t}\n\tvar that = this;\n\tthat.target = target;\n\tthat.type = type;\n\tthat.cancelBubble = false;\n\tthat.defaultPrevented = false;\n\tthat.timeStamp = Date.now();\n}\n\nEvent.prototype.preventDefault = function() {\n\tthis.defaultPrevented = true;\n};\n\nEvent.prototype.stopPropagation = function() {\n\tthis.cancelBubble = true;\n};\n",
    "export function isObject(subject) {\n\treturn subject && typeof subject == 'object';\n}\n\nexport function isFunction(subject) {\n\treturn typeof subject == 'function';\n}\n\nexport function toArray(subject) {\n\treturn Array.prototype.slice.call(subject, 0);\n}\n\nexport function each(subject, cb) {\n\tif (Array.isArray(subject)) {\n\t\tfor (var i = 0; i < subject.length; i++) {\n\t\t\tcb(subject[i], i);\n\t\t}\n\t}\n\telse if (isObject(subject)) {\n\t\tfor (var key in subject) {\n\t\t\tif (subject.hasOwnProperty(key)) {\n\t\t\t\tcb(subject[key], key);\n\t\t\t}\n\t\t}\n\t}\n\telse if (subject) {\n\t\tcb(subject, 0);\n\t}\n}\n",
    "import E$ from 'main';\n\n/**\n * Can't do \"export default E$...\" here due to\n * https://github.com/babel/babelify/issues/139\n */\nmodule.exports = E$;\n",
    "import EventListener from 'event-listener';\nimport stack from 'stack';\nimport * as _ from 'helpers';\n\nexport const WILDCARD = '*';\n\nexport default function ListenerManager() {\n\tArray.call(this);\n}\n\nListenerManager.prototype = Object.create(Array.prototype);\n\nListenerManager.prototype.constructor = ListenerManager;\n\nListenerManager.prototype.add = function(types, fn, args) {\n\tvar that = this;\n\tstack.digest(function() {\n\t\tthat.push(\n\t\t\tnew EventListener(types, fn, args)\n\t\t);\n\t});\n};\n\nListenerManager.prototype.invoke = function(evt, args) {\n\tvar that = this;\n\tstack.digest(function() {\n\t\tthat.forEach(function(evtListener) {\n\t\t\tevtListener.invoke(evt, args);\n\t\t});\n\t});\n};\n\nListenerManager.prototype.remove = function(removeTypes, fn, wild) {\n\tvar that = this;\n\tremoveTypes = [].concat(removeTypes);\n\tstack.digest(function() {\n\t\t_.each(removeTypes, function(removeType) {\n\t\t\tvar len = that.length,\n\t\t\t\ti = 0,\n\t\t\t\tevtListener,\n\t\t\t\thandleTypes,\n\t\t\t\tindex;\n\t\t\twhile (i < len) {\n\t\t\t\tevtListener = that[i];\n\t\t\t\tif (!fn || evtListener.fn == fn) {\n\t\t\t\t\thandleTypes = evtListener.types;\n\t\t\t\t\tindex = handleTypes.indexOf(removeType);\n\t\t\t\t\tif (index >= 0 && removeType != WILDCARD) {\n\t\t\t\t\t\thandleTypes.splice(index, 1);\n\t\t\t\t\t}\n\t\t\t\t\tif (handleTypes.length < 1 || (removeType == WILDCARD && (wild || index < 0))) {\n\t\t\t\t\t\tthat.splice(i, 1);\n\t\t\t\t\t\ti--;\n\t\t\t\t\t\tlen--;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\ti++;\n\t\t\t}\n\t\t});\n\t});\n};\n",
    "import Event from 'event';\nimport stack from 'stack';\nimport * as _ from 'helpers';\nimport {\n\tWILDCARD,\n\tdefault as ListenerManager\n} from 'listener-manager';\nimport {\n\twhenParser,\n\temitParser,\n\tdispelParser\n} from 'argument-parsers';\n\nexport default function E$(seed) {\n\tvar that = this;\n\tif (that == $global || that == UNDEFINED) {\n\t\treturn new E$(seed);\n\t}\n\t_.each(seed, function(value, key) {\n\t\tthat[key] = value;\n\t});\n\tvar listeners = new ListenerManager(),\n\t\tdescriptors = {\n\t\t\t$__listeners: { value: listeners },\n\t\t\t$__handleWild: { value: function() {\n\t\t\t\tvar args = _.toArray(arguments),\n\t\t\t\t\tevt = args.shift();\n\t\t\t\tlisteners.invoke(evt, args);\n\t\t\t}},\n\t\t\thandleE$: {\n\t\t\t\tvalue: (that.handleE$ || function() {}).bind(that)\n\t\t\t},\n\t\t};\n\t_.each(descriptors, function(descriptor) {\n\t\tdescriptor.configurable = true;\n\t});\n\tObject.defineProperties(that, descriptors);\n}\n\nE$.is = function(subject) {\n\treturn !!subject && _.isObject(subject) && _.isFunction(subject.handleE$);\n};\n\nE$.prototype = {\n\tconstructor: E$,\n\t$watch: function(emitters) {\n\t\tvar that = this;\n\t\temitters = [].concat(emitters);\n\t\t_.each(emitters, function(emitter, key) {\n\t\t\temitter\n\t\t\t\t.$when(WILDCARD, that)\n\t\t\t\t.$when(WILDCARD, that.$__handleWild);\n\t\t});\n\t\treturn that;\n\t},\n\t$unwatch: function(emitters) {\n\t\tvar that = this;\n\t\temitters = [].concat(emitters);\n\t\t_.each(emitters, function(emitter) {\n\t\t\temitter\n\t\t\t\t.$dispel(WILDCARD, true, that)\n\t\t\t\t.$dispel(WILDCARD, true, that.$__handleWild);\n\t\t});\n\t\treturn that;\n\t},\n\t$once: function() {\n\t\tvar that = this,\n\t\t\tcalled;\n\t\twhenParser(that, arguments, function(eventTypes, listenerArgs, listenerFn) {\n\t\t\tthat.$when(eventTypes, listenerArgs, function once() {\n\t\t\t\tif (!called) {\n\t\t\t\t\tcalled = true;\n\t\t\t\t\tlistenerFn.apply(UNDEFINED, arguments);\n\t\t\t\t\tthat.$dispel(eventTypes, true, once);\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t\treturn that;\n\t},\n\t$when: function() {\n\t\tvar that = this;\n\t\twhenParser(that, arguments, function(eventTypes, listenerArgs, listenerFn) {\n\t\t\tthat.$__listeners.add(eventTypes, listenerFn, listenerArgs);\n\t\t});\n\t\treturn that;\n\t},\n\t$emit: function() {\n\t\tvar that = this;\n\t\temitParser(that, arguments, function(eventTypes, listenerArgs, emitCb) {\n\t\t\t_.each(eventTypes, function(type) {\n\t\t\t\tvar evt = new Event(that, type);\n\t\t\t\tthat.$__listeners.invoke(evt, listenerArgs);\n\t\t\t\tstack.digest(function() {\n\t\t\t\t\tif (_.isFunction(emitCb) && !evt.defaultPrevented) {\n\t\t\t\t\t\temitCb.apply(UNDEFINED, [].concat(evt, listenerArgs));\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t});\n\t\treturn that;\n\t},\n\t$dispel: function() {\n\t\tvar that = this;\n\t\tdispelParser(that, arguments, function(eventTypes, wild, listenerFn) {\n\t\t\tthat.$__listeners.remove(eventTypes, listenerFn, wild);\n\t\t});\n\t\treturn that;\n\t}\n};\n",
    "var stack,\n\tindex = 0,\n\tlength = 0,\n\tinprog = false;\n\nexport default stack = Object.create({\n\t/* jshint -W033 */\n\tget index() { return index },\n\tget length() { return length },\n\tget inprog() { return inprog },\n\tdigest: function(fn) {\n\t\tstack.enqueue(fn);\n\t\tstack.flush();\n\t},\n\tenqueue: function(fn) {\n\t\tstack[length] = fn;\n\t\tlength++;\n\t},\n\tflush: function() {\n\t\tvar fn, caught;\n\t\tif (!inprog) {\n\t\t\tinprog = true;\n\t\t\t/* jshint -W084 */\n\t\t\twhile (fn = next()) {\n\t\t\t\ttry {\n\t\t\t\t\tfn();\n\t\t\t\t}\n\t\t\t\tcatch(err) {\n\t\t\t\t\tcaught = err;\n\t\t\t\t\tempty();\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tinprog = false;\n\t\t\tif (caught) {\n\t\t\t\tthrow caught;\n\t\t\t}\n\t\t}\n\t}\n});\n\nfunction drop() {\n\tdelete stack[index];\n}\n\nfunction empty() {\n\tindex = length;\n\twhile (index > 0) {\n\t\tindex--;\n\t\tdrop();\n\t}\n\tlength = index = 0;\n}\n\nfunction next() {\n\tvar fn = stack[index];\n\tdrop();\n\tindex++;\n\tif (index >= length) {\n\t\tempty();\n\t}\n\treturn fn;\n}\n"
  ]
}